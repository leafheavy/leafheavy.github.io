---
layout: default
---

<article class="post">
  <!-- Post Header -->
  <header class="post-header">
    <h1 class="post-title">{{ page.title }}</h1>
    
    <div class="post-meta">
      <time datetime="{{ page.date | date_to_xmlschema }}">
        {{ page.date | date: "%B %d, %Y" }}
      </time>
      {% if page.author %}
        <span class="separator">•</span>
        <span class="author">{{ page.author }}</span>
      {% endif %}
      {% if page.read_time %}
        <span class="separator">•</span>
        <span class="read-time">{{ page.read_time }} min read</span>
      {% else %}
        {% assign words = content | number_of_words %}
        {% assign read_time = words | divided_by: 200 %}
        {% if read_time > 0 %}
          <span class="separator">•</span>
          <span class="read-time">{{ read_time }} min read</span>
        {% endif %}
      {% endif %}
    </div>
    
    {% if page.tags.size > 0 %}
      <div class="post-tags">
        {% for tag in page.tags %}
          <a href="/blog/#{{ tag }}" class="tag">{{ tag }}</a>
        {% endfor %}
      </div>
    {% endif %}
  </header>

  <!-- Featured Image -->
  {% if page.image %}
    <div class="post-featured-image">
      <img src="{{ page.image | relative_url }}" alt="{{ page.title }}">
      {% if page.image_caption %}
        <figcaption>{{ page.image_caption }}</figcaption>
      {% endif %}
    </div>
  {% endif %}

  <!-- Post Content -->
  <div class="post-content">
    {{ content }}
  </div>

  <!-- Post Footer -->
  <footer class="post-footer">
    <!-- Share Buttons (Optional) -->
    {% if page.share != false %}
    <div class="share-buttons">
      <span class="share-label">Share:</span>
      <a href="https://twitter.com/intent/tweet?text={{ page.title | uri_escape }}&url={{ page.url | absolute_url | uri_escape }}" 
         target="_blank" 
         rel="noopener" 
         class="share-btn twitter"
         aria-label="Share on Twitter">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"/>
        </svg>
      </a>
      <a href="https://www.linkedin.com/sharing/share-offsite/?url={{ page.url | absolute_url | uri_escape }}" 
         target="_blank" 
         rel="noopener" 
         class="share-btn linkedin"
         aria-label="Share on LinkedIn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6zM2 9h4v12H2z"/>
          <circle cx="4" cy="4" r="2"/>
        </svg>
      </a>
      <a href="https://www.facebook.com/sharer/sharer.php?u={{ page.url | absolute_url | uri_escape }}" 
         target="_blank" 
         rel="noopener" 
         class="share-btn facebook"
         aria-label="Share on Facebook">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"/>
        </svg>
      </a>
      <button class="share-btn copy" onclick="copyLink()" aria-label="Copy link">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/>
          <path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/>
        </svg>
      </button>
    </div>
    {% endif %}

    <!-- Post Navigation -->
    <div class="post-navigation">
      {% if page.previous.url %}
        <div class="nav-previous">
          <a href="{{ page.previous.url | relative_url }}">
            <span class="nav-label">← Previous Post</span>
            <span class="nav-title">{{ page.previous.title }}</span>
          </a>
        </div>
      {% endif %}
      
      {% if page.next.url %}
        <div class="nav-next">
          <a href="{{ page.next.url | relative_url }}">
            <span class="nav-label">Next Post →</span>
            <span class="nav-title">{{ page.next.title }}</span>
          </a>
        </div>
      {% endif %}
    </div>
    
    <!-- Back to Blog -->
    <div class="back-to-blog">
      <a href="/blog/">← Back to all posts</a>
    </div>

    <!-- Related Posts (Optional) -->
    {% if page.show_related != false %}
      {% assign maxRelated = 3 %}
      {% assign minCommonTags = 1 %}
      {% assign relatedPosts = "" | split: "" %}
      
      {% for post in site.posts %}
        {% if post.url != page.url %}
          {% assign sameTagCount = 0 %}
          {% for tag in post.tags %}
            {% if page.tags contains tag %}
              {% assign sameTagCount = sameTagCount | plus: 1 %}
            {% endif %}
          {% endfor %}
          
          {% if sameTagCount >= minCommonTags %}
            {% assign relatedPosts = relatedPosts | push: post %}
          {% endif %}
        {% endif %}
      {% endfor %}
      
      {% if relatedPosts.size > 0 %}
        <div class="related-posts">
          <h3>Related Posts</h3>
          <div class="related-posts-grid">
            {% for post in relatedPosts limit:maxRelated %}
              <article class="related-post-card">
                {% if post.image %}
                  <div class="related-post-image">
                    <a href="{{ post.url | relative_url }}">
                      <img src="{{ post.image | relative_url }}" alt="{{ post.title }}" loading="lazy">
                    </a>
                  </div>
                {% endif %}
                <div class="related-post-content">
                  <h4>
                    <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
                  </h4>
                  <time datetime="{{ post.date | date_to_xmlschema }}">
                    {{ post.date | date: "%b %d, %Y" }}
                  </time>
                </div>
              </article>
            {% endfor %}
          </div>
        </div>
      {% endif %}
    {% endif %}
  </footer>
</article>

<!-- Reading Progress Bar -->
<div class="reading-progress-bar" id="reading-progress"></div>

<!-- Copy Link Script -->
<script>
  function copyLink() {
    const url = window.location.href;
    navigator.clipboard.writeText(url).then(() => {
      const btn = event.currentTarget;
      const originalHTML = btn.innerHTML;
      btn.innerHTML = '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>';
      btn.classList.add('copied');
      
      setTimeout(() => {
        btn.innerHTML = originalHTML;
        btn.classList.remove('copied');
      }, 2000);
    }).catch(err => {
      console.error('Failed to copy: ', err);
    });
  }

  // Reading Progress Bar
  window.addEventListener('scroll', () => {
    const article = document.querySelector('.post-content');
    if (!article) return;
    
    const windowHeight = window.innerHeight;
    const documentHeight = article.offsetHeight;
    const scrollTop = window.pageYOffset;
    const articleTop = article.offsetTop;
    
    const scrolled = Math.min(
      Math.max((scrollTop - articleTop) / (documentHeight - windowHeight) * 100, 0),
      100
    );
    
    document.getElementById('reading-progress').style.width = scrolled + '%';
  });
</script>