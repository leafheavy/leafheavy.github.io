<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
  <head>
    {% if site.google_analytics and jekyll.environment == 'production' %}
      {% include analytics.html %}
    {% endif %}
    
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    {% seo %}
    
    <link rel="stylesheet" href="{{ "/assets/css/style.css?v=" | append: site.github.build_revision | relative_url }}">
    
    {% if site.head_scripts %}
      {% for script in site.head_scripts %}
        <script src="{{ script | relative_url }}"></script>
      {% endfor %}
    {% endif %}
  </head>
  
  <body>
    <!-- Site Header (Navigation) -->
    {% include header.html %}
    
    <!-- Main Content Wrapper -->
    <main class="page-wrapper" role="main">
      <div class="content-container">
        {{ content }}
      </div>
    </main>
    
    <!-- Site Footer -->
    {% if site.footer %}
      {% include footer.html %}
    {% else %}
      <!-- Simple inline footer if footer.html doesn't exist -->
      <footer class="site-footer" style="background: #f5f5f7; border-top: 1px solid #e5e5e7; margin-top: 80px; padding: 40px 0; text-align: center;">
        <p style="margin: 0; font-size: 14px; color: #6e6e73;">
          &copy; {{ 'now' | date: "%Y" }} {{ site.title | default: site.author.name }}
        </p>
      </footer>
    {% endif %}
    
    <!-- Optional: Back to Top Button -->
    <button id="back-to-top" class="back-to-top" aria-label="Back to top" style="display: none;">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polyline points="18 15 12 9 6 15"></polyline>
      </svg>
    </button>

    {% if site.footer_scripts %}
      {% for script in site.footer_scripts %}
        <script src="{{ script | relative_url }}"></script>
      {% endfor %}
    {% endif %}
  </body>
</html>

<style>
  /* Global Page Styles */
  .page-wrapper {
    min-height: calc(100vh - 64px);
    padding-top: 0;
  }

  .content-container {
    width: 100%;
    max-width: 100%;
  }

  /* Back to Top Button */
  .back-to-top {
    position: fixed;
    bottom: 30px;
    right: 30px;
    width: 48px;
    height: 48px;
    background: #0066cc;
    color: white;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 12px rgba(0, 102, 204, 0.3);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 999;
  }

  .back-to-top:hover {
    background: #0077ed;
    transform: translateY(-4px);
    box-shadow: 0 6px 16px rgba(0, 102, 204, 0.4);
  }

  .back-to-top.show {
    display: flex !important;
  }

  @media (max-width: 768px) {
    .back-to-top {
      bottom: 20px;
      right: 20px;
      width: 44px;
      height: 44px;
    }
  }
</style>

<script>
  // Back to Top Button Functionality
  (function() {
    const backToTopButton = document.getElementById('back-to-top');
    if (!backToTopButton) return;
    
    window.addEventListener('scroll', () => {
      if (window.pageYOffset > 300) {
        backToTopButton.style.display = 'flex';
        backToTopButton.classList.add('show');
      } else {
        backToTopButton.style.display = 'none';
        backToTopButton.classList.remove('show');
      }
    });
    
    backToTopButton.addEventListener('click', () => {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    });
  })();
</script>